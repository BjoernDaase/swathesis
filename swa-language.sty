\RequirePackage[USenglish,german]{datenumber}
\setdatetoday

\RequirePackage{swa-platform}
\ifundefinedorrelax{if@swa@german}{
  \newif\if@swa@german
}{}

\ifthenelse{\boolean{xetex}}{
  \RequirePackage{polyglossia}

  \ifthenelse{\boolean{@swa@german}}{
    \setotherlanguage{english}
    \setmainlanguage[babelshorthands,latesthyphen=true]{german}
  }{
    \setmainlanguage{english}
    \setotherlanguage[babelshorthands,latesthyphen=true]{german}
  }

  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\tableautorefname}{table}
  \defcaptionname{english}{\lstlistingautorefname}{listing}
  \defcaptionname{english}{\lstnumberautorefname}{line}
  \defcaptionname{english}{\subsectionautorefname}{\sectionautorefname}
  \defcaptionname{english}{\subsubsectionautorefname}{\sectionautorefname}
  \gappto\extrasenglish{%
    \@datelanguageUSenglish
    }

  \defcaptionname{german}{\subsectionautorefname}{\sectionautorefname}
  \defcaptionname{german}{\subsubsectionautorefname}{\sectionautorefname}
  \gappto\extrasgerman{%
    \@datelanguagegerman
    }
}{
%fool AUCTeX
\iffalse
  \RequirePackage[english]{babel}
\fi


  \ifthenelse{\boolean{@swa@german}}{
  \RequirePackage%
[main=ngerman,english]%
%
{babel}
  }{
  \RequirePackage%
[main=english,ngerman]%
%
{babel}
  }

  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\tableautorefname}{table}
  \defcaptionname{english}{\lstlistingautorefname}{listing}
  \defcaptionname{english}{\lstnumberautorefname}{line}
  \defcaptionname{english,german,ngerman}{\subsectionautorefname}{\sectionautorefname}
  \defcaptionname{english,german,ngerman}{\subsubsectionautorefname}{\sectionautorefname}
  \addto\extrasenglish{%
    \@datelanguageUSenglish
  }

  \addto\extrasngerman{%
    \@datelanguagegerman
    }
  \addto\extrasgerman{%
    \@datelanguagegerman
    }

}
\endinput
